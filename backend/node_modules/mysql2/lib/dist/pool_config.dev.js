'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var ConnectionConfig = require('./connection_config.js');

var PoolConfig = function PoolConfig(options) {
  _classCallCheck(this, PoolConfig);

  if (typeof options === 'string') {
    options = ConnectionConfig.parseUrl(options);
  }

  this.connectionConfig = new ConnectionConfig(options);
  this.waitForConnections = options.waitForConnections === undefined ? true : Boolean(options.waitForConnections);
  this.connectionLimit = isNaN(options.connectionLimit) ? 10 : Number(options.connectionLimit);
  this.maxIdle = isNaN(options.maxIdle) ? this.connectionLimit : Number(options.maxIdle);
  this.idleTimeout = isNaN(options.idleTimeout) ? 60000 : Number(options.idleTimeout);
  this.queueLimit = isNaN(options.queueLimit) ? 0 : Number(options.queueLimit);
};

module.exports = PoolConfig;